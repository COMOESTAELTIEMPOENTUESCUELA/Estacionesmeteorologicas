<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¿Cómo Está el Tiempo? - UNLP</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIINfBTxTRj3iTTGAWpIBl8EQAylAUdbSPls="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20n6a9c8b98zI26kO2aK9C3J6B9A34C48F/k0M7wE4Kz0="
            crossorigin=""></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-database.js"></script>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header>
        <h1>Proyecto Meteorológico Escolar UNLP</h1>
        <nav>
            <a href="#mapa-section">Mapa de Estaciones</a>
            <a href="#analisis-section">Análisis Histórico</a>
            <a href="#talleres-section">Talleres y Reportes</a>
        </nav>
    </header>

    <section id="mapa-section" class="data-container">
        <h2>Mapa de Estaciones y Datos Actuales</h2>
        <div class="mapa-y-datos">
            <div id="map" style="height: 400px;"></div>
            <div class="datos-actuales">
                <h3>Resumen Rápido (Firebase)</h3>
                <div class="resumen-grid" id="resumen-global">
                    <div class="dato-card">
                        <h4>Estación 1</h4>
                        <p class="valor" id="temp-est1">--°C</p>
                    </div>
                    </div>
                <div id="lista-escuelas">
                    </div>
            </div>
        </div>
    </section>

    <hr>

    <section id="analisis-section" class="data-container">
        <h2>Análisis Histórico por Estación</h2>
        <div class="controles">
            <label for="estacion-select">Selecciona la Estación:</label>
            <select id="estacion-select" onchange="cargarGraficosDeSeleccion()"></select>
        </div>
        
        <div class="resumen-historico">
            <h3>Resumen Histórico de la Selección</h3>
            <div class="resumen-grid">
                <div class="dato-card">
                    <h4>Máx. Temp.</h4>
                    <p class="valor" id="temp-max">-- °C</p>
                </div>
                <div class="dato-card">
                    <h4>Min. Temp.</h4>
                    <p class="valor" id="temp-min">-- °C</p>
                </div>
                <div class="dato-card">
                    <h4>Precipitación</h4>
                    <p class="valor" id="precipitacion">-- mm</p>
                </div>
            </div>
        </div>

        <div class="graficos-container">
            <div class="grafico">
                <h3>Temperatura Reciente</h3>
                <canvas id="temperaturaChart"></canvas>
            </div>
            <div class="grafico">
                <h3>Humedad Reciente</h3>
                <canvas id="humedadChart"></canvas>
            </div>
        </div>
    </section>

    <hr>

    <section id="talleres-section" class="data-container">
        <h2>Talleres y Reportes de las Escuelas</h2>
        <p>Aquí se publicarán las actividades de coordinación y los reportes fotográficos de nuestros colaboradores.</p>
        
        <div class="galeria-reportes" id="galeria-reportes">
            <div class="reporte-card">
                <img src="imagenes/taller_ejemplo_1.jpg" alt="Taller en la Escuela N°5">
                <h4>Instalación de la Estación N°5</h4>
                <p>Fecha: 15/09/2025. El equipo de coordinadores completó la instalación y capacitación inicial.</p>
                <a href="#">Ver Reporte Completo</a>
            </div>
             <div class="reporte-card">
                <img src="imagenes/reporte_ejemplo_2.jpg" alt="Reporte fotográfico de alumnos">
                <h4>Uso de instrumentos en el aula</h4>
                <p>Fecha: 20/09/2025. Los alumnos aprendieron a medir la humedad y la temperatura en el salón.</p>
                <a href="#">Ver Reporte Completo</a>
            </div>
            </div>
    </section>

    <footer>
        <p>&copy; 2025 Proyecto UNLP | Contacto: [Tu Email]</p>
    </footer>

    <script>
        // Pega el código JavaScript que me enviaste, incluyendo la configuración de ESTACIONES.
        // NOTA: El script está completo, pero agregaremos una línea para actualizar el resumen global
        // si lo necesitas. Por ahora, pegamos el código tal cual está.
    </script>
</body>
</html>
